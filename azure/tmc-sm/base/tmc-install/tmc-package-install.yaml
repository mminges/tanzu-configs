apiVersion: v1
kind: Secret
metadata:
  name: tanzu-mission-control-packages-values
  namespace: tmc-local
data:
  values.yaml: aGFyYm9yUHJvamVjdDogaGFyYm9yLm1wbXRtY2xhYi5pby90bWMKZG5zWm9uZTogbXBtdG1jbGFiLmlvCmNsdXN0ZXJJc3N1ZXI6IGxvY2FsLWlzc3Vlcgpwb3N0Z3JlczoKICB1c2VyUGFzc3dvcmQ6IFBhc3N3MHJkCiAgbWF4Q29ubmVjdGlvbnM6IDMwMAptaW5pbzoKICB1c2VybmFtZTogcm9vdAogIHBhc3N3b3JkOiBQYXNzdzByZApjb250b3VyRW52b3k6CiAgc2VydmljZVR5cGU6IExvYWRCYWxhbmNlcgogIHNlcnZpY2VBbm5vdGF0aW9uczoKICAgIHNlcnZpY2UuYmV0YS5rdWJlcm5ldGVzLmlvL2F6dXJlLWxvYWQtYmFsYW5jZXItaW50ZXJuYWw6ICJ0cnVlIgphbGVydG1hbmFnZXI6CiAgY3JpdGljYWxBbGVydFJlY2VpdmVyOiB7fQogIHdhcm5pbmdBbGVydFJlY2VpdmVyOiB7fQpvaWRjOgogIGlzc3VlclR5cGU6IHBpbm5pcGVkCiAgaXNzdWVyVVJMOiBodHRwczovL2FzZAogIGNsaWVudElEOiBhc2QKICBjbGllbnRTZWNyZXQ6IGFzZApwaW5uaXBlZEV4dHJhRW52VmFyczoKLSBuYW1lOiB0ZXN0CiAgdmFsdWU6IHRlc3QKdGVsZW1ldHJ5OgogIGNlaXBPcHRJbjogdHJ1ZQogIGVhbk51bWJlcjogZWFuLW5vdC1zcGVjaWZpZWQKICBjZWlwQWdyZWVtZW50OiB0cnVlCnRydXN0ZWRDQXM6CiAgY3VzdG9tLWNhLnBlbTogfAogICAgLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCiAgICBNSUlGc2pDQ0E1cWdBd0lCQWdJVUR2Qnhnbkx3TFliL3R4S3N0aHQvRG8vREkxWXdEUVlKS29aSWh2Y05BUUVMCiAgICBCUUF3WXpFTE1Ba0dBMVVFQmhNQ1ZWTXhFVEFQQmdOVkJBZ01DRU52Ykc5eVlXUnZNUTh3RFFZRFZRUUhEQVpFCiAgICBaVzUyWlhJeEREQUtCZ05WQkFvTUEyeGhZakVMTUFrR0ExVUVDd3dDU1ZReEZUQVRCZ05WQkFNTURHMXdiWFJ0CiAgICBZMnhoWWk1cGJ6QWVGdzB5TXpBM01qVXlNRFV6TURCYUZ3MHpNekEzTWpJeU1EVXpNREJhTUdNeEN6QUpCZ05WCiAgICBCQVlUQWxWVE1SRXdEd1lEVlFRSURBaERiMnh2Y21Ga2J6RVBNQTBHQTFVRUJ3d0dSR1Z1ZG1WeU1Rd3dDZ1lECiAgICBWUVFLREFOc1lXSXhDekFKQmdOVkJBc01Ba2xVTVJVd0V3WURWUVFEREF4dGNHMTBiV05zWVdJdWFXOHdnZ0lpCiAgICBNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0SUNEd0F3Z2dJS0FvSUNBUUNvZ0hGNWp0V3B6d1Q4dUtSTTRzck9QTmNkCiAgICAzVzVsVW1oVzVnWnFKc3RzWGc2aENSUlJSSkJKdmpGV0gwK1JnQ2ltRlVmMlNVMU80cXJUbi9WNkVjQngwU3lHCiAgICBDTU9FWHF4RHJqNG5EbEV1MWllR3RscUxxTmxQd3NwbXFRcmFLd1FydVNPSTBqRkJlcEVJWGFvWDhXSU1jaVFXCiAgICBoMmE5K2h2SjZCRlY1MHJPM2hySGtUeFdkOXV5SkVXTlRTdDZQOCsybzI4eGVidUpxcEJrUXp6ckdzcXZuTjRpCiAgICBSdDZKeE0rVHhzVldaQk1qWWNnQTVHcXBxT3BhS0hDL2ZQK3RwUGJPa0lIRFQ2bjRWMWtCaGZydU1HWnFwa2tWCiAgICBwVWkyNWdqRGV3aDJOUjhMVERYWm9reWNRWUdIWStKR2dYNytBTG5ReFpPSE1Nb1IrOE1NUnVoa013MGw0TysxCiAgICBBQ0I0R2swbERhbU9uT2ZxbGVLaXRYM2tPVXdBUUtTSllEdlIyV2E2SXVLMUV1dXI1OFQvL3YwT1NiQ3BIM2lqCiAgICBocTBrZ2t3WHpsaDZYYkdVckNmZC82NUIyUDVQUUtpYUNtWjFPL3lRak9xKzJySHMvbGFTQ1ZJWHpYQlZVd2M0CiAgICBvNWdYT0lyMXVpSUlNTDNreTZjSmZrUXVqQ1VwNkZDamd4aVRTK1hsS0Z1QXQ3R3V3MnJNUEpZNGtpczNDVUpYCiAgICBhd0ttdmpVV3dRYk1LanhLN2ZuWWJKY2VWakFyZ1ByTE9GTDM1Ty9aTHFRNXVBZnNwLy9YYk9BRi96OU1CUXI5CiAgICBVeHBsa2hGS2Z1YlhnYUx4S1NtYTJGL2M0YTRjdG1KK0dlOFdtKzNmK3Q3Z3owR3Z0RDk0L0NGdXUzRE03dnZOCiAgICBWejN5RVpocFFFb2t6czBvY3dJREFRQUJvMTR3WERBT0JnTlZIUThCQWY4RUJBTUNBWVl3RWdZRFZSMFRBUUgvCiAgICBCQWd3QmdFQi93SUJBVEFYQmdOVkhSRUVFREFPZ2d4dGNHMTBiV05zWVdJdWFXOHdIUVlEVlIwT0JCWUVGS3NXCiAgICBZTmFrZG5pZFhoZVp6VDBFeUdvd0EvNHhNQTBHQ1NxR1NJYjNEUUVCQ3dVQUE0SUNBUUE5WjVVcUFBUDFNeklSCiAgICA3QlQrWUl4aXphSitjK2lpcExRVEtZMTIzTCszb1Vib0hmSWwrblV6UzNkZzl5NUNKUW5DMUFVbFd4ZlRJY1dOCiAgICBLNEREcm9LOTBrcEJma0R4T1NnQkJ3QjFoVEt6SFBRcVBkcWl1SnVvbVl2OUpybVQrOHk2NWNjdXVySkpaQnhxCiAgICA2WW1yNHBCa29rRmVkZXB0MUV5WGI4ekdHQkJaWFI5SFVDRU0rV3pmNWhyNlhIYzFmZ3B3MzVkSlhQZ1p3ai9xCiAgICArSTU5ZGU0MkRpcGNYL0daT0I0SFhLVWpidTZuMjdpaUNCSDZCU1lGdmxleUY3dmZaclFuSFZYVHBIT3FmREt2CiAgICAzSitTLzhOaEJhTTMrZlhRV1M0YW05WmFYaDdHbjRtV0hSVmlvcTVEVjRJZ043ZzZmYUpiKzE1QnBkTXRYd2xBCiAgICB5M016NytHWnJad0JkTzg1M3Z6TXF6TjBac3Q3cEh4SitlNGsrSG1tK0tuR2tSbytyczFBOVR2bVBBVjRySnZFCiAgICBhVytHUWwxTVl5OTRSWGZJU001QktCaW8yVUZibEtZbi9zd2VYN0xsQndHT25aWFY2WllNOTh0UEVoZWdoVzBJCiAgICBnbFBnMDhydG5WUEZSTDM0WThDclJ1dE5UZTVyWmY3dlhJaUVMS1RtWFVzeUdIaXVxTGJYZ1Joc0RlblZldU5LCiAgICBqNzZRMi8yWlN4RHJDdDdpa3BZaDg1MWszVk54Tm9ndmEyRVUvczJocnJNMTd4YS9wNXp0K1JIT3Y2Zy9wT0pSCiAgICBuNlZJT3pSMTFqbUFrODNJcldPeWluZytMUVd1Tzl6N1VJTzM2MzBFQ1RnelNGeUVyQTc1T3VNT3RwVUNvWDhNCiAgICBOK2xTd2xaVS8xUEJ4cDBzZzF3TUZobWZwMy9TOWc9PQogICAgLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
---
apiVersion: v1
kind: ServiceAccount
metadata:
  annotations:
    tkg.tanzu.vmware.com/tanzu-package: tanzu-mission-control-packages
    kapp.k14s.io/update-strategy: fallback-on-replace
  name: tanzu-mission-control-packages-sa
  namespace: tmc-local
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  annotations:
    tkg.tanzu.vmware.com/tanzu-package: tanzu-mission-control-packages
    kapp.k14s.io/update-strategy: fallback-on-replace
  name: tanzu-mission-control-packages-cluster-role
rules:
- apiGroups:
  - '*'
  resources:
  - '*'
  verbs:
  - '*'
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  annotations:
    tkg.tanzu.vmware.com/tanzu-package: tanzu-mission-control-packages
    kapp.k14s.io/update-strategy: fallback-on-replace
  name: tanzu-mission-control-packages-cluster-rolebinding
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: tanzu-mission-control-packages-cluster-role
subjects:
- kind: ServiceAccount
  name: tanzu-mission-control-packages-sa
  namespace: tmc-local
---
apiVersion: packaging.carvel.dev/v1alpha1
kind: PackageInstall
metadata:
  annotations:
    tkg.tanzu.vmware.com/tanzu-package-ClusterRole: tanzu-mission-control-packages-cluster-role
    tkg.tanzu.vmware.com/tanzu-package-ClusterRoleBinding: tanzu-mission-control-packages-cluster-rolebinding
    tkg.tanzu.vmware.com/tanzu-package-ServiceAccount: tanzu-mission-control-packages-sa
    kapp.k14s.io/update-strategy: fallback-on-replace
    kapp.k14s.io/create-strategy: fallback-on-replace
  name: tanzu-mission-control
  namespace: tmc-local
spec:
  serviceAccountName: tanzu-mission-control-packages-sa
  packageRef:
    refName: tmc.tanzu.vmware.com
    versionSelection:
      constraints: 1.0.0
  values:
  - secretRef:
      name: tanzu-mission-control-packages-values
